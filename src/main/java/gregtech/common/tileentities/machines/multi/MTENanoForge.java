package gregtech.common.tileentities.machines.multi;

import static com.gtnewhorizon.structurelib.structure.StructureUtility.ofBlock;
import static com.gtnewhorizon.structurelib.structure.StructureUtility.onElementPass;
import static com.gtnewhorizon.structurelib.structure.StructureUtility.transpose;
import static gregtech.api.enums.GTValues.AuthorBlueWeabo;
import static gregtech.api.enums.HatchElement.Energy;
import static gregtech.api.enums.HatchElement.ExoticEnergy;
import static gregtech.api.enums.HatchElement.InputBus;
import static gregtech.api.enums.HatchElement.InputHatch;
import static gregtech.api.enums.HatchElement.Maintenance;
import static gregtech.api.enums.HatchElement.OutputBus;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE_GLOW;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_GLOW;
import static gregtech.api.util.GTStructureUtility.buildHatchAdder;
import static gregtech.api.util.GTStructureUtility.ofFrame;
import static gregtech.api.util.GTUtility.filterValidMTEs;

import java.util.ArrayList;
import java.util.List;

import javax.annotation.Nonnull;

import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.ChunkCoordinates;
import net.minecraft.util.EnumChatFormatting;
import net.minecraftforge.common.util.ForgeDirection;
import net.minecraftforge.fluids.FluidStack;

import org.jetbrains.annotations.NotNull;

import com.google.common.collect.ImmutableMap;
import com.gtnewhorizon.structurelib.alignment.constructable.ISurvivalConstructable;
import com.gtnewhorizon.structurelib.structure.IStructureDefinition;
import com.gtnewhorizon.structurelib.structure.ISurvivalBuildEnvironment;
import com.gtnewhorizon.structurelib.structure.StructureDefinition;

import gregtech.api.GregTechAPI;
import gregtech.api.enums.Materials;
import gregtech.api.enums.OrePrefixes;
import gregtech.api.enums.Textures.BlockIcons;
import gregtech.api.interfaces.INEIPreviewModifier;
import gregtech.api.interfaces.ITexture;
import gregtech.api.interfaces.metatileentity.IMetaTileEntity;
import gregtech.api.interfaces.tileentity.IGregTechTileEntity;
import gregtech.api.logic.ProcessingLogic;
import gregtech.api.metatileentity.implementations.MTEExtendedPowerMultiBlockBase;
import gregtech.api.metatileentity.implementations.MTEHatchInput;
import gregtech.api.metatileentity.implementations.MTEHatchInputBus;
import gregtech.api.objects.ItemData;
import gregtech.api.objects.MaterialStack;
import gregtech.api.recipe.RecipeMap;
import gregtech.api.recipe.RecipeMaps;
import gregtech.api.recipe.check.CheckRecipeResult;
import gregtech.api.recipe.check.CheckRecipeResultRegistry;
import gregtech.api.render.TextureFactory;
import gregtech.api.util.GTOreDictUnificator;
import gregtech.api.util.GTRecipe;
import gregtech.api.util.GTUtility;
import gregtech.api.util.MultiblockTooltipBuilder;
import gregtech.api.util.OverclockCalculator;
import gregtech.api.util.ParallelHelper;
import gregtech.common.blocks.BlockCasings13;
import gregtech.common.blocks.BlockCasings8;
import gregtech.common.gui.modularui.multiblock.MTENanoForgeGui;
import gregtech.common.gui.modularui.multiblock.base.MTEMultiBlockBaseGui;
import gregtech.common.tileentities.render.TileEntityNanoForgeRenderer;

public class MTENanoForge extends MTEExtendedPowerMultiBlockBase<MTENanoForge>
    implements ISurvivalConstructable, INEIPreviewModifier {

    private static final String STRUCTURE_PIECE_MAIN = "main";
    private static final String STRUCTURE_PIECE_TIER2 = "tier2";
    private static final String STRUCTURE_PIECE_TIER3 = "tier3";
    private static final String STRUCTURE_PIECE_TIER4_BASE = "tier4base";
    private static final String STRUCTURE_PIECE_TIER4_RENDER = "tier4render";
    private static final String STRUCTURE_PIECE_TIER4_AIR_RENDER = "tier4airrender";
    // spotless:off
    private static final String[][] STRUCTURE_PIECE_TIER4_STRUCT_BASE = transpose(new String[][]{
        {"                MMMMMMMMM                ","             MMM         MMM             ","           MM               MM           ","         MM                   MM         ","        M                       M        ","       M                         M       ","      M                           M      ","     M                             M     ","    M                               M    ","   M                                 M   ","   M                                 M   ","  M                                   M  ","  M                                   M  "," M                                     M "," M                                     M "," M                                     M ","M                                       M","M                                       M","M                                       M","M                                       M","M                                       M","M                                       M","M                                       M","M                                       M","M                                       M"," M                                     M "," M                                     M "," M                                     M ","  M                                   M  ","  M                                   M  ","   M                                 M   ","   M                                 M   ","    M                               M    ","     M                             M     ","      M                           M      ","       M                         M       ","        M                       M        ","         MM                   MM         ","           MM               MM           ","             MMM         MMM             ","                MMMMMMMMM                "},
        {"                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","M                                       M","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    "},
        {"                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","M                                       M","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    "},
        {"                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","M                                       M","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    "},
        {"                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","M                                       M","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    "},
        {"                                         ","                MMMMMMMMM                ","             MMM         MMM             ","           MM               MM           ","         MM                   MM         ","        M                       M        ","       M                         M       ","      M                           M      ","     M                             M     ","    M                               M    ","    M                               M    ","   M                                 M   ","   M                                 M   ","  M                                   M  ","  M                                   M  ","  M                                   M  "," M                                     M "," M                                     M "," M                                     M "," M                                     M "," M                                     M "," M                                     M "," M                                     M "," M                                     M "," M                                     M ","  M                                   M  ","  M                                   M  ","  M                                   M  ","   M                                 M   ","   M                                 M   ","    M                               M    ","    M                               M    ","     M                             M     ","      M                           M      ","       M                         M       ","        M                       M        ","         MM                   MM         ","           MM               MM           ","             MMM         MMM             ","                MMMMMMMMM                ","                                         "},
        {"                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "," M                                     M ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         "},
        {"                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "," M                                     M ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         "},
        {"                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","  M                                   M  ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         "},
        {"                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","  M                                   M  ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                MMMMMMMMM                ","             MMM         MMM             ","           MM               MMM          ","          M                   M          ","         M                     M         ","        M                       M        ","       M                         M       ","      M                           M      ","     M                             M     ","     M                             M     ","    M                               M    ","    M                               M    ","    M                               M    ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","   M                                 M   ","    M                               M    ","    M                               M    ","    M                               M    ","     M                             M     ","     M                             M     ","      M                           M      ","       M                         M       ","        M                       M        ","         M                     M         ","          M                   M          ","           MM               MM           ","             MMM         MMM             ","                MMMMMMMMM                ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","   M                                 M   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","    M                               M    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","     M                             M     ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    M                    ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                 MMMMMMM                 ","              MMM   M   MMM              ","            MM             MM            ","           M                 M           ","          M                   M          ","         M                     M         ","        M                       M        ","       M                         M       ","       M                         M       ","      M                           M      ","      M                           M      ","      M                           M      ","     M                             M     ","     M                             M     ","     M                             M     ","     MM                           MM     ","     M                             M     ","     M                             M     ","     M                             M     ","      M                           M      ","      M                           M      ","      M                           M      ","       M                         M       ","       M                         M       ","        M                       M        ","         M                     M         ","          M                   M          ","           M                 M           ","            MM             MM            ","              MMM   M   MMM              ","                 MMMMMMM                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                M   M   M                ","                                         ","                                         ","         M                     M         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","      M                           M      ","                                         ","                                         ","                                         ","      M                           M      ","                                         ","                                         ","                                         ","      M                           M      ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","         M                     M         ","                                         ","                                         ","                M   M   M                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 M  J  M                 ","                                         ","         M                               ","         M                    MMM        ","         M                               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","      M                           M      ","                                         ","                                         ","      J                           J      ","                                         ","                                         ","      M                           M      ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                               M         ","        MMM                    M         ","                               M         ","                                         ","                 M  J  M                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                  M J M                  ","        MM                               ","                                 M       ","         J                   M J M       ","                             M           ","         MM                              ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","      M                           M      ","                                         ","      J                           J      ","                                         ","      M                           M      ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                              MM         ","           M                             ","       M J M                   J         ","       M                                 ","                               MM        ","                  M J M                  ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                  JJJJJ         M        ","       M                         M       ","      M                                  ","        JJ                     JJ        ","         J  M                  J         ","           M                 M           ","                              M          ","                                         ","                                         ","                                         ","                                         ","                                         ","      J                           J      ","      J                           J      ","      J                           J      ","      J                           J      ","      J                           J      ","                                         ","                                         ","                                         ","                                         ","                                         ","          M                              ","           M                 M           ","                            M  J         ","         JK                    JJ        ","                               P  M      ","       M                         M       ","        M         JJJJJ                  ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                  NJ JN       MM         ","                                         ","            M                  J         ","      M JJJ M                 JJ         ","      M                                  ","                                         ","                               MM        ","                                         ","                                         ","                                         ","                                         ","                                         ","      N                           N      ","      J                           J      ","                                         ","      J                           J      ","      N                           N      ","                                         ","                                         ","                                         ","                                         ","                                         ","        MM                               ","                                         ","                                  M      ","        JJJ                 M JJ  M      ","                            M  J         ","                                         ","         MM       NJ JN                  ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                   P P                   ","                  NP PN                  ","           M       J P       M           ","         P                               ","         J                    KJ         ","         K                     J         ","       M                         M       ","                                         ","                                         ","                                         ","                                         ","                                         ","                  M   M                  ","      N          M     M          N      ","     PPJ                         JPP     ","                    M                    ","     PPP                         PPP     ","      N          M     M          N      ","                  M   M                  ","                                         ","                                         ","                                         ","                                         ","                                         ","       M                         M       ","         P                               ","        JJ                     J         ","         J                               ","           M       J P       M           ","                  NP PN                  ","                   P P                   ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                   P P                   ","          M      NPP JPN                 ","                   P P                   ","         P                  M  P         ","        PJ                    PJJ        ","                               J  M      ","           X                 X           ","        M                                ","                                         ","                                         ","                                         ","                                         ","      N                           N      ","      P           M   M           P      ","     PPP                         PPP     ","                    N                    ","     PJP                         PJP     ","      P           M   M           P      ","      N                           N      ","                                         ","                                         ","                                         ","                                         ","                                M        ","           X                 X           ","      M  P                     J         ","        PJP                   PJP        ","         J  M                  J         ","                   P P                   ","                 NPP JPN      M          ","                   P P                   ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                   J P                   ","        NN       NPN NPN                 ","                   P P                   ","                               P  N      ","        PPJ                 M PPJ N      ","         P                  M            ","           X                 X           ","         MM                              ","                                         ","                                         ","                                         ","                                         ","      N                           N      ","      P                           P      ","     JNP           N N           PNJ     ","                    N                    ","     PNP           N N           PNP     ","      P                           P      ","      N                           N      ","                                         ","                                         ","                                         ","                                         ","                              NN         ","           X                 X           ","         K  N                  J         ","      M PPJ N                 PP         ","      M  J                     J         ","                   P P                   ","                 NPN NPN       MM        ","                   J P                   ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                  PP PK                  ","                 NPN NPN        N        ","       N          PK JP          N       ","      N                        P         ","        PPJ                    P         ","         PX N                 XJ         ","           M                 M           ","                              N          ","                                         ","                                         ","                                         ","                                         ","      N                           N      ","     PPP                         PPP     ","     PNK                         KNP     ","                    N                    ","     PNJ                         JNP     ","     KPP                         PPK     ","      N                           N      ","                                         ","                                         ","                                         ","                                         ","          N                              ","           N                 N           ","         PX                 N X          ","         PJ                   PP         ","                                  N      ","       M          PK JP          M       ","        N        NPN NPN                 ","                  PP PK                  ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                  PN NP                  ","                 PPN NPP      NN         ","                  PN NP                  ","            N                            ","      N  PP N                 XP         ","      N  XX                   XP         ","                                         ","                               NN        ","                                         ","                                         ","                                         ","                                         ","      P                           P      ","     PPP                         PPP     ","     NNN                         NNN     ","                    O                    ","     NNN                         NNN     ","     PPP                         PPP     ","      P                           P      ","                                         ","                                         ","                                         ","                                         ","        NN                               ","                                         ","         XX                   XX  N      ","         PJ                 N KPP N      ","         P                  N            ","                  PN NP                  ","         NN      PPN NPP                 ","                  PN NP                  ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                 PP   PP                 ","          N     KPP   PPK                ","           N     PP   PK     N           ","         P                  N  P         ","        PPX                   PPP        ","         P                     K  N      ","       N                         N       ","        N                                ","                                         ","                                         ","                                         ","      K                           K      ","     PPP                         PPP     ","     PPP                         PPP     ","                    O                    ","                   OOO                   ","                    O                    ","     PPP                         PPP     ","     PPK                         KPP     ","      K                           K      ","                                         ","                                         ","                                         ","                                N        ","       N                         N       ","      N  P                     P         ","        PPX                   PPK        ","            N                  P         ","           N     PP   PK     N           ","                KPP   PPK     N          ","                 PP   PP                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                KKK   KJK                ","        NN     OKKK   KKKO               ","                KPK   KKK                ","        XP                     PX N      ","        PK                  O KKX N      ","                            O  K         ","                                         ","         OO                              ","                                         ","                                         ","      O                           O      ","     KKK                         KKK     ","     KKP                         PKK     ","     KKK                         KKK     ","                   JJJ                   ","                   JKJ                   ","                   JJJ                   ","     KKK                         KKK     ","     JKK                         KKJ     ","     KKK                         KKK     ","      O                           O      ","                                         ","                                         ","                              NN         ","                                         ","         P  N                  P         ","      O KK  N                 PKK        ","      O XX                     KX        ","                KPK   KKK                ","               OKKK   KKKO     OO        ","                KKK   KJK                ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","                KP     KK                ","               OKKK   KKKO      O        ","       OXX      KP     KK      XXO       ","      OXXPX                   XKXX       ","       XXKK                   KKPX       ","        XK  O                  XX        ","           O                 O           ","                              O          ","                                         ","                                         ","      O                           O      ","     KKK                         KKK     ","     PKP                         PKP     ","      K            JJJ            K      ","                  PJJPJ                  ","                  JPKJP                  ","                  JJPJJ                  ","      K            JJJ            K      ","     KKK                         KKK     ","     KKK                         KKK     ","      O                           O      ","                                         ","                                         ","          O                              ","           O                 O           ","        XK                  O  PX        ","       XXKP                   KKPX       ","       XXKX                   XKXXO      ","       OXX      KP     KK      XXO       ","        O      OKKK   KKKO               ","                KP     KK                ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","                                         ","               OKK     KKO               ","               KKK     KKK    OO         ","        XX     OJK     PKO     XX        ","       XXKX O                 XKXX       ","      OXKKK O                 JKKX       ","      O XK                     KX        ","                                         ","                               OO        ","                                         ","                                         ","     OKO                         OKO     ","     KKJ                         JKK     ","     KKK           PPP           KKK     ","                  PPPPP                  ","                 PPJJPPJ                 ","                 PPKKKPP                 ","                 PPPJPPP                 ","                  PPJPP                  ","     KKP           JPP           PKK     ","     KKK                         KKK     ","     OKO                         OKO     ","                                         ","                                         ","        OO                               ","                                         ","        XK                     KX O      ","       XKKX                 O XKXXO      ","       XXKX                 O XXXX       ","        XX     OJK     PKO     XX        ","         OO    KKK     KKK               ","               OKK     KKO               ","                                         ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","               O         O               ","               KK       PK               ","        XXO    KKK     KKK     XX        ","       XXXXO   KK       JP   OXXXX       ","      XXXKXX   O         O  OXXKXXX      ","      XXKKXX                 XKKJXX      ","       XXJX                   XKXXO      ","       OXX                     XXO       ","        O                                ","                                         ","                                         ","    OKKKO                       OKKKO    ","     KKK           PPP           KKK     ","      K           PPPPP           K      ","                 PPKPPPP                 ","                PPJKPJPPP                ","                PPKJJJKPK                ","                PPJKPKPPP                ","                 PPPPPPP                 ","      K           PPPKP           K      ","     PKJ           KPP           JKP     ","    OKKPO                       OPKKO    ","                                         ","                                         ","                                O        ","       OXX                     XXO       ","      OXXXX                   XKXX       ","      XXXKJX                 XKKKXX      ","      XXXKXXO  O         O   XXKXXX      ","       XXXXO   KK       JP   OXXXX       ","        XX     KKK     KKK    OXX        ","               KK       PK               ","               O         O               ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","               O         O               ","        YY     KJ       PK     YY        ","       YOOY    KK       KK    YYYY       ","      YYYYYY   KK       KK   YYYYYY      ","     YYYYYYYY  O         O  YYYPYYOY     ","     YYYPKYYY               OYKKKYOY     ","      YYYYYY                OYYPYYY      ","       YYYY                   YYYY       ","        YOO                    YY        ","                                         ","                                         ","    OKKKO          PPK          OKKKO    ","     JKK          KKKKK          KKJ     ","                 KKPKKKP                 ","                PKJKKKJKK                ","               KKKKKPJPKKK               ","               KJJKPJJPKKK               ","               KKPKKPJPPKP               ","                PKPKPKKKK                ","                 KKJJKKK                 ","     PKK          KKJJP          KKP     ","    OKKKO          PKK          OKKKO    ","                                         ","                                         ","        YY                    OOY        ","       YYYY                   YYYY       ","      YYYJYYO                YYKYYY      ","     YOYYKKYO               YYKKKYYY     ","     YOYYYYYY  O         O  YYYJYYYY     ","      YYYYYY   KK       KK   YYYYYY      ","       YYYY    KK       KK    YOOY       ","        YY     KJ       PK     YY        ","               O         O               ","                                         ","                                         ","                                         ","                                         "},
        {"                                         ","                                         ","                                         ","                                         ","        YY     O         O     YY        ","       YYYY    JK       KK    YYYY       ","      YYYYYY   KK       KK   YYYYYY      ","     YYOYYYYY  KK       KK  YYYYYOYY     ","    YYYYYJYYYY O         O YYYYKYYYYY    ","    YYYYYKKYYY             YYYKKKYYYY    ","     YYYYKYYY               YYYKYYYY     ","      YYYYYO                 OYYYYY      ","       YYYY                   YYYY       ","        YY                     YY        ","                   KKK                   ","    OJKKO         KKKJK         OKKJO    ","     KKK         KKKKJPK         KKK     ","                KKJKKKPKK                ","               KKKKKPKKKKK               ","              KKKKPKJJPKKKK              ","              KKJKKPPJJPKKK              ","              KKKKKJPPPKKKK              ","               KKJKKPKKKKK               ","                KKPKJKKKK                ","     KKK         KKPKKKK         KKK     ","    OKKKO         KKKPK         OKKKO    ","                   KKK                   ","        YY                     YY        ","       YYYY                   YYYY       ","      YYYYYO                 OYYYYY      ","     YYYYKYYY               YYYPYYYY     ","    YYYYKKYYYY             YYYYKYYYYY    ","    YYYYYPYYYY O         O YYYYKYYYYY    ","     YYOYYYYY  KK       KK  YYYYYOYY     ","      YYYYYY   KK       KK   YYYYYY      ","       YYYY    JK       KK    YYYY       ","        YY     O         O     YY        ","                                         ","                                         ","                                         ","                                         "},
        {"                VVVVVVVVV                ","             VVVVVVVVVVVVVVV             ","           VVVVVVVVVVVVVVVVVVV           ","         VVVVVVVVVVVVVVVVVVVVVVV         ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","    VVVVVVVVVVVVVVVVVVKKKVVVVVVVVVVVV    ","   VVVVVVVVVVVVVVVVKKKPPPKVVVVVVVVVVVV   ","   VVVVVVVVVVVVVVKKPPPJJJPKVVVVVVVVVVV   ","  VVVVVVVVVVVVVVKPPJJJPPPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPJJPPPKKKVVVVVVVVVVVVVV  "," VVVVVVVVVVVVVKPJPPKKKPPPKKVVVVVVVVVVVVV "," VVVVVVVVVKVVKPJPKKKPPJJJPPKVVVVVVVVVVVV "," VVVVVVVVKPKVKPJPKKPJJPPPJJPKVVVVVVVVVVV ","VVVVVVVVKPJPKPJPKKPJPPKKKPPJPKVVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKKPPKKKPJPKVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKPJJPKKPJPKVVVVVVVVVV","VVVVVVVVVKPJPKPJPKPJPJPPJPKKPJPKVVVVVVVVV","VVVVVVVVVKPJPKPJPKKPJPKKPJPKPJPKVVVVVVVVV","VVVVVVVVVKPJPKKPJPPJPJPKPJPKPJPKVVVVVVVVV","VVVVVVVVVVKPJPKKPJJPKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVKPJPKKKPPKKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVVKPJPPKKKPPJPKKPJPKPJPKVVVVVVVV"," VVVVVVVVVVVKPJJPPPJJPKKPJPKVKPKVVVVVVVV "," VVVVVVVVVVVVKPPJJJPPKKKPJPKVVKVVVVVVVVV "," VVVVVVVVVVVVVKKPPPKKKPPJPKVVVVVVVVVVVVV ","  VVVVVVVVVVVVVVKKKPPPJJPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPPPJJJPPKVVVVVVVVVVVVVV  ","   VVVVVVVVVVVKPJJJPPPKKVVVVVVVVVVVVVV   ","   VVVVVVVVVVVVKPPPKKKVVVVVVVVVVVVVVVV   ","    VVVVVVVVVVVVKKKVVVVVVVVVVVVVVVVVV    ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","         VVVVVVVVVVVVVVVVVVVVVVV         ","           VVVVVVVVVVVVVVVVVVV           ","             VVVVVVVVVVVVVVV             ","                VVVVVVVVV                "},
        {"                VVVV~VVVV                ","             VVVVVVVVVVVVVVV             ","           VVVVVVVVVVVVVVVVVVV           ","         VVVVVVVVVVVVVVVVVVVVVVV         ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","    VVVVVVVVVVVVVVVVVVKKKVVVVVVVVVVVV    ","   VVVVVVVVVVVVVVVVKKKPPPKVVVVVVVVVVVV   ","   VVVVVVVVVVVVVVKKPPPJJJPKVVVVVVVVVVV   ","  VVVVVVVVVVVVVVKPPJJJPPPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPJJPPPKKKVVVVVVVVVVVVVV  "," VVVVVVVVVVVVVKPJPPKKKPPPKKVVVVVVVVVVVVV "," VVVVVVVVVKVVKPJPKKKPPJJJPPKVVVVVVVVVVVV "," VVVVVVVVKPKVKPJPKKPJJPPPJJPKVVVVVVVVVVV ","VVVVVVVVKPJPKPJPKKPJPPKKKPPJPKVVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKKPPKKKPJPKVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKPJJPKKPJPKVVVVVVVVVV","VVVVVVVVVKPJPKPJPKPJPJPPJPKKPJPKVVVVVVVVV","VVVVVVVVVKPJPKPJPKKPJPKKPJPKPJPKVVVVVVVVV","VVVVVVVVVKPJPKKPJPPJPJPKPJPKPJPKVVVVVVVVV","VVVVVVVVVVKPJPKKPJJPKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVKPJPKKKPPKKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVVKPJPPKKKPPJPKKPJPKPJPKVVVVVVVV"," VVVVVVVVVVVKPJJPPPJJPKKPJPKVKPKVVVVVVVV "," VVVVVVVVVVVVKPPJJJPPKKKPJPKVVKVVVVVVVVV "," VVVVVVVVVVVVVKKPPPKKKPPJPKVVVVVVVVVVVVV ","  VVVVVVVVVVVVVVKKKPPPJJPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPPPJJJPPKVVVVVVVVVVVVVV  ","   VVVVVVVVVVVKPJJJPPPKKVVVVVVVVVVVVVV   ","   VVVVVVVVVVVVKPPPKKKVVVVVVVVVVVVVVVV   ","    VVVVVVVVVVVVKKKVVVVVVVVVVVVVVVVVV    ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","         VVVVVVVVVVVVVVVVVVVVVVV         ","           VVVVVVVVVVVVVVVVVVV           ","             VVVVVVVVVVVVVVV             ","                VVVVVVVVV                "},
        {"                VVVVVVVVV                ","             VVVVVVVVVVVVVVV             ","           VVVVVVVVVVVVVVVVVVV           ","         VVVVVVVVVVVVVVVVVVVVVVV         ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","    VVVVVVVVVVVVVVVVVVKKKVVVVVVVVVVVV    ","   VVVVVVVVVVVVVVVVKKKPPPKVVVVVVVVVVVV   ","   VVVVVVVVVVVVVVKKPPPJJJPKVVVVVVVVVVV   ","  VVVVVVVVVVVVVVKPPJJJPPPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPJJPPPKKKVVVVVVVVVVVVVV  "," VVVVVVVVVVVVVKPJPPKKKPPPKKVVVVVVVVVVVVV "," VVVVVVVVVKVVKPJPKKKPPJJJPPKVVVVVVVVVVVV "," VVVVVVVVKPKVKPJPKKPJJPPPJJPKVVVVVVVVVVV ","VVVVVVVVKPJPKPJPKKPJPPKKKPPJPKVVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKKPPKKKPJPKVVVVVVVVVV","VVVVVVVVKPJPKPJPKPJPKPJJPKKPJPKVVVVVVVVVV","VVVVVVVVVKPJPKPJPKPJPJPPJPKKPJPKVVVVVVVVV","VVVVVVVVVKPJPKPJPKKPJPKKPJPKPJPKVVVVVVVVV","VVVVVVVVVKPJPKKPJPPJPJPKPJPKPJPKVVVVVVVVV","VVVVVVVVVVKPJPKKPJJPKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVKPJPKKKPPKKPJPKPJPKPJPKVVVVVVVV","VVVVVVVVVVVKPJPPKKKPPJPKKPJPKPJPKVVVVVVVV"," VVVVVVVVVVVKPJJPPPJJPKKPJPKVKPKVVVVVVVV "," VVVVVVVVVVVVKPPJJJPPKKKPJPKVVKVVVVVVVVV "," VVVVVVVVVVVVVKKPPPKKKPPJPKVVVVVVVVVVVVV ","  VVVVVVVVVVVVVVKKKPPPJJPKVVVVVVVVVVVVV  ","  VVVVVVVVVVVVVKPPPJJJPPKVVVVVVVVVVVVVV  ","   VVVVVVVVVVVKPJJJPPPKKVVVVVVVVVVVVVV   ","   VVVVVVVVVVVVKPPPKKKVVVVVVVVVVVVVVVV   ","    VVVVVVVVVVVVKKKVVVVVVVVVVVVVVVVVV    ","     VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV     ","      VVVVVVVVVVVVVVVVVVVVVVVVVVVVV      ","       VVVVVVVVVVVVVVVVVVVVVVVVVVV       ","        VVVVVVVVVVVVVVVVVVVVVVVVV        ","         VVVVVVVVVVVVVVVVVVVVVVV         ","           VVVVVVVVVVVVVVVVVVV           ","             VVVVVVVVVVVVVVV             ","                VVVVVVVVV                "}
    });
    private static final String[][] STRUCTURE_PIECE_TIER4_STRUCT = transpose(new String[][]{
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   RRR                   ","                 RRRRRRR                 ","                 RRRRRRR                 ","                RRRRRRRRR                ","                RRRRRRRRR                ","                RRRRRRRRR                ","                 RRRRRRR                 ","                 RRRRRRR                 ","                   RRR                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    R                    ","                 RRRRRRR                 ","                RRRRRRRRR                ","               RRRR   RRRR               ","              RRR       RRR              ","              RRR       RRR              ","              RR         RR              ","             RRR         RRR             ","              RR         RR              ","              RRR       RRR              ","              RRR       RRR              ","               RRRR   RRRR               ","                RRRRRRRRR                ","                 RRRRRRR                 ","                    R                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","               RRRRR RRRRR               ","              RRR       RRR              ","             RRR         RRR             ","             RR           RR             ","            RR             RR            ","            RR             RR            ","            RR             RR            ","            R               R            ","            RR             RR            ","            RR             RR            ","            RR             RR            ","             RR           RR             ","             RRR         RRR             ","              RRR       RRR              ","               RRRRR RRRRR               ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","               RRRRRRRRRRR               ","              RRR       RRR              ","             RR           RR             ","            RR             RR            ","           RR               RR           ","           RR               RR           ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","           RR               RR           ","           RR               RR           ","            RR             RR            ","             RR           RR             ","              RRR       RRR              ","               RRRRRRRRRRR               ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RRR       RRR              ","             RR           RR             ","            RR             RR            ","           RR               RR           ","          RR                 RR          ","          R                   R          ","         RR                   RR         ","         R                     R         ","         R                     R         ","         R       JJJJJJJ       R         ","         R       JJJJJJJ       R         ","         R       JJJJJJJ       R         ","         R                     R         ","         R                     R         ","         RR                   RR         ","          R                   R          ","          RR                 RR          ","           RR               RR           ","            RR             RR            ","             RR           RR             ","              RRR       RRR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RR         RR              ","             R             R             ","            R               R            ","           R                 R           ","          R                   R          ","         R                     R         ","         R                     R         ","        R                       R        ","        R                       R        ","        R                       R        ","        R     JJJJJJJJJJJJJ     R        ","        R     JJJJJJJJJJJJJ     R        ","        R     JJJJJJJJJJJJJ     R        ","        R                       R        ","        R                       R        ","        R                       R        ","         R                     R         ","         R                     R         ","          R                   R          ","           R                 R           ","            R               R            ","             R             R             ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","             R             R             ","           RR               RR           ","          RR                 RR          ","          R                   R          ","         R                     R         ","        R                       R        ","        R                       R        ","        R                        R       ","       R                         R       ","       R                         R       ","       R     JJJJ       JJJJ     R       ","       R     JJJJ       JJJJ     R       ","       R     JJJJ       JJJJ     R       ","       R                         R       ","       R                         R       ","       R                         R       ","        R                       R        ","        R                       R        ","         R                     R         ","          R                   R          ","          RR                 RR          ","           RR               RR           ","             R             R             ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","             R             R             ","           RR               RR           ","          R                   R          ","         R                     R         ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","         R                     R         ","          R                   R          ","           RR               RR           ","             R             R             ","              RR        RRR              ","                RRRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               RRRRRRRRRRR               ","             RR           RR             ","            R               R            ","          RR                 RR          ","         R                     R         ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R   JJJ      JJJ      JJJ   R      ","      R   JJJ      JJJ      JJJ   R      ","      R   JJJ      JJJ      JJJ   R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","         R                     R         ","          RR                 RR          ","            R               R            ","             RR           RR             ","               RRRRRRRRRRR               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","           R                 R           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R    JJ                 JJ    R     ","     R    JJ                 JJ    R     ","     R    JJ                 JJ    R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           R                 R           ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    R                    ","               RRRRR RRRRR               ","             RR           RR             ","           RR               RR           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","     R                             R     ","     R   JJ                   JJ   R     ","    R    JJ                   JJ    R    ","     R   JJ                   JJ   R     ","     R                             R     ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           RR               RR           ","             RR           RR             ","               RRRRR RRRRR               ","                    R                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R   JJJ                   JJJ   R    ","    R   JJJ                   JJJ   R    ","    R   JJJ                   JJJ   R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","             RRR         RRR             ","           RR               RR           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","    R   JJ                     JJ   R    ","    R   JJ                     JJ   R    ","    R   JJ                     JJ   R    ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           RR               RR           ","             RRR         RRR             ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   RRR                   ","               RRRR   RRRR               ","             RR           RR             ","           RR               RR           ","         RR                   RR         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","    R                               R    ","   R    JJ         RRR         JJ    R   ","   R    JJ         RRR         JJ    R   ","   R    JJ         RRR         JJ    R   ","    R                               R    ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         RR                   RR         ","           RR               RR           ","             RR           RR             ","               RRRR   RRRR               ","                   RRR                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","   R                                 R   ","   R               RRR               R   ","   R   JJ         RQQQR         JJ   R   ","   R   JJ         RQQQR         JJ   R   ","   R   JJ         RQQQR         JJ   R   ","   R               RRR               R   ","   R                                 R   ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","   R               RRR               R   ","   R              RQQQR              R   ","   R   JJ        RQQQQQR        JJ   R   ","   R   JJ        RQQQQQR        JJ   R   ","   R   JJ        RQQQQQR        JJ   R   ","   R              RQQQR              R   ","   R               RRR               R   ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RR         RR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R            JJJJJ            R     ","    R           JJJJJJJJJ           R    ","    R          JJJ     JJJ          R    ","   R          JJ   RRR   JJ          R   ","   R          JJ  RQQQR  JJ          R   ","   R         JJ  RQQQQQR  JJ         R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R         JJ  RQQQQQR  JJ         R   ","   R          JJ  RQQQR  JJ          R   ","   R          JJ   RRR   JJ          R   ","    R          JJJ     JJJ          R    ","    R           JJJJJJJJJ           R    ","     R            JJJJJ            R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                RRRRRRRRR                ","             RRR         RRR             ","            R               R            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","    R             JJJJJ             R    ","    R           JJJJJJJJJ           R    ","    R          JJJ     JJJ          R    ","   R          JJ   RRR   JJ          R   ","   R          JJ  RQQQR  JJ          R   ","   R         JJ  RQQQQQR  JJ         R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R         JJ  RQQQQQR  JJ         R   ","   R          JJ  RQQQR  JJ          R   ","   R          JJ   RRR   JJ          R   ","    R          JJJ     JJJ          R    ","    R           JJJJJJJJJ           R    ","    R             JJJJJ             R    ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            R               R            ","             RRR         RRR             ","                RRRRRRRRR                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RR         RR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R            JJJJJ            R     ","    R           JJJJJJJJJ           R    ","    R          JJJ     JJJ          R    ","   R          JJ   RRR   JJ          R   ","   R          JJ  RQQQR  JJ          R   ","   R         JJ  RQQQQQR  JJ         R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R   JJ    JJ RQQQQQQQR JJ    JJ   R   ","   R         JJ  RQQQQQR  JJ         R   ","   R          JJ  RQQQR  JJ          R   ","   R          JJ   RRR   JJ          R   ","    R          JJJ     JJJ          R    ","    R           JJJJJJJJJ           R    ","     R            JJJJJ            R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","   R               RRR               R   ","   R              RQQQR              R   ","   R   JJ        RQQQQQR        JJ   R   ","   R   JJ        RQQQQQR        JJ   R   ","   R   JJ        RQQQQQR        JJ   R   ","   R              RQQQR              R   ","   R               RRR               R   ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","   R                                 R   ","   R               RRR               R   ","   R   JJ         RQQQR         JJ   R   ","   R   JJ         RQQQR         JJ   R   ","   R   JJ         RQQQR         JJ   R   ","   R               RRR               R   ","   R                                 R   ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   RRR                   ","               RRRR   RRRR               ","             RR           RR             ","           RR               RR           ","         RR                   RR         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","    R                               R    ","   R    JJ         RRR         JJ    R   ","   R    JJ         RRR         JJ    R   ","   R    JJ         RRR         JJ    R   ","    R                               R    ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         RR                   RR         ","           RR               RR           ","             RR           RR             ","               RRRR   RRRR               ","                   RRR                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","             RRR         RRR             ","           RR               RR           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R                               R    ","    R   JJ                     JJ   R    ","    R   JJ                     JJ   R    ","    R   JJ                     JJ   R    ","    R                               R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           RR               RR           ","             RRR         RRR             ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","            RR             RR            ","          RR                 RR          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","    R                               R    ","    R                               R    ","    R   JJJ                   JJJ   R    ","    R   JJJ                   JJJ   R    ","    R   JJJ                   JJJ   R    ","    R                               R    ","    R                               R    ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          RR                 RR          ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    R                    ","               RRRRR RRRRR               ","             RR           RR             ","           RR               RR           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R                             R     ","     R                             R     ","     R   JJ                   JJ   R     ","    R    JJ                   JJ    R    ","     R   JJ                   JJ   R     ","     R                             R     ","     R                             R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           RR               RR           ","             RR           RR             ","               RRRRR RRRRR               ","                    R                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","             RRRR       RRR              ","            R              RR            ","           R                 R           ","          R                   R          ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","     R                             R     ","     R                             R     ","     R    JJ                 JJ    R     ","     R    JJ                 JJ    R     ","     R    JJ                 JJ    R     ","     R                             R     ","     R                             R     ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","          R                   R          ","           R                 R           ","            RR             RR            ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               RRRRRRRRRRR               ","             RR           RR             ","            R               R            ","          RR                 RR          ","         R                     R         ","        R                      R         ","        R                       R        ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R   JJJ      JJJ      JJJ   R      ","      R   JJJ      JJJ      JJJ   R      ","      R   JJJ      JJJ      JJJ   R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","         R                     R         ","          RR                 RR          ","            R               R            ","             RR           RR             ","               RRRRRRRRRRR               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","              RRR       RRR              ","             R             R             ","           RR               RR           ","          R                   R          ","         R                     R         ","         R                     R         ","        R                       R        ","       R                         R       ","       R                         R       ","       R                         R       ","      R            JJJ            R      ","      R            JJJ            R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R    JJJJ    JJJ    JJJJ    R      ","      R            JJJ            R      ","      R            JJJ            R      ","       R                         R       ","       R                         R       ","       R                         R       ","        R                       R        ","         R                     R         ","         R                     R         ","          R                   R          ","           RR               RR           ","             R             R             ","              RRR       RRR              ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RR         RR              ","             R             R             ","           RR               RR           ","          RR                 RR          ","          R                   R          ","         R                     R         ","        R                       R        ","        R                       R        ","       R                         R       ","       R                         R       ","       R                         R       ","       R     JJJJ       JJJJ     R       ","       R     JJJJ       JJJJ     R       ","       R     JJJJ       JJJJ     R       ","       R                         R       ","       R                         R       ","       R                         R       ","        R                       R        ","        R                       R        ","         R                     R         ","          R                   R          ","          RR                 RR          ","           RR               RR           ","             R             R             ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RR         RR              ","             R             R             ","            R               R            ","           R                 R           ","          R                   R          ","         R                     R         ","         R                     R         ","        R                       R        ","        R                       R        ","        R                       R        ","        R     JJJJJJJJJJJJJ     R        ","        R     JJJJJJJJJJJJJ     R        ","        R     JJJJJJJJJJJJJ     R        ","        R                       R        ","        R                       R        ","        R                       R        ","         R                     R         ","         R                     R         ","          R                   R          ","           R                 R           ","            R               R            ","             R             R             ","              RR         RR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                RRRRRRRRR                ","              RRR       RRR              ","             RR           RR             ","            RR             RR            ","           RR               RR           ","          RR                 RR          ","          R                   R          ","         RR                   RR         ","         R                     R         ","         R                     R         ","         R       JJJJJJJ       R         ","         R       JJJJJJJ       R         ","         R       JJJJJJJ       R         ","         R                     R         ","         R                     R         ","         RR                   RR         ","          R                   R          ","          RR                 RR          ","           RR               RR           ","            RR             RR            ","             RR           RR             ","              RRR       RRR              ","                RRRRRRRRR                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","               RRRRRRRRRRR               ","              RRR       RRR              ","             RR           RR             ","            RR             RR            ","           RR               RR           ","           RR               RR           ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","          RR                 RR          ","           RR               RR           ","           RR               RR           ","            RR             RR            ","             RR           RR             ","              RRR       RRR              ","               RRRRRRRRRRR               ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 RRRRRRR                 ","               RRRRR RRRRR               ","              RRR       RRR              ","             RRR         RRR             ","             RR           RR             ","            RR             RR            ","            RR             RR            ","            RR             RR            ","            R               R            ","            RR             RR            ","            RR             RR            ","            RR             RR            ","             RR           RR             ","             RRR         RRR             ","              RRR       RRR              ","               RRRRR RRRRR               ","                 RRRRRRR                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    R                    ","                 RRRRRRR                 ","                RRRRRRRRR                ","               RRRR   RRRR               ","              RRR       RRR              ","              RRR       RRR              ","              RR         RR              ","             RRR         RRR             ","              RR         RR              ","              RRR       RRR              ","              RRR       RRR              ","               RRRR   RRRR               ","                RRRRRRRRR                ","                 RRRRRRR                 ","                    R                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   RRR                   ","                 RRRRRRR                 ","                 RRRRRRR                 ","                RRRRRRRRR                ","                RRRRRRRRR                ","                RRRRRRRRR                ","                 RRRRRRR                 ","                 RRRRRRR                 ","                   RRR                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "}
});
    private static final String[][] STRUCTURE_PIECE_TIER4_STRUCT_AIR = transpose(new String[][]{
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   ZZZ                   ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                   ZZZ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Z                    ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","               ZZZZ   ZZZZ               ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","              ZZ         ZZ              ","             ZZZ         ZZZ             ","              ZZ         ZZ              ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","               ZZZZ   ZZZZ               ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                    Z                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZ ZZZZZ               ","              ZZZ       ZZZ              ","             ZZZ         ZZZ             ","             ZZ           ZZ             ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            Z               Z            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","             ZZ           ZZ             ","             ZZZ         ZZZ             ","              ZZZ       ZZZ              ","               ZZZZZ ZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZZZZZZZ               ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","               ZZZZZZZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         ZZ                   ZZ         ","         Z                     Z         ","         Z                     Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z                     Z         ","         Z                     Z         ","         ZZ                   ZZ         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","            Z               Z            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            Z               Z            ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                        Z       ","       Z                         Z       ","       Z                         Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ        ZZZ              ","                ZZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               ZZZZZZZZZZZ               ","             ZZ           ZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZ           ZZ             ","               ZZZZZZZZZZZ               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    Z                    ","               ZZZZZ ZZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z   ZZ                   ZZ   Z     ","    Z    ZZ                   ZZ    Z    ","     Z   ZZ                   ZZ   Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZZ ZZZZZ               ","                    Z                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   ZZZ                   ","               ZZZZ   ZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","         ZZ                   ZZ         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         ZZ                   ZZ         ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZ   ZZZZ               ","                   ZZZ                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z                                 Z   ","   Z               ZZZ               Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z               ZZZ               Z   ","   Z                                 Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z               ZZZ               Z   ","   Z              ZZZZZ              Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z              ZZZZZ              Z   ","   Z               ZZZ               Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z            ZZZZZ            Z     ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","     Z            ZZZZZ            Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","    Z             ZZZZZ             Z    ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZWZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","    Z             ZZZZZ             Z    ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z            ZZZZZ            Z     ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","     Z            ZZZZZ            Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z               ZZZ               Z   ","   Z              ZZZZZ              Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z              ZZZZZ              Z   ","   Z               ZZZ               Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z                                 Z   ","   Z               ZZZ               Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z               ZZZ               Z   ","   Z                                 Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   ZZZ                   ","               ZZZZ   ZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","         ZZ                   ZZ         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         ZZ                   ZZ         ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZ   ZZZZ               ","                   ZZZ                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    Z                    ","               ZZZZZ ZZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z   ZZ                   ZZ   Z     ","    Z    ZZ                   ZZ    Z    ","     Z   ZZ                   ZZ   Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZZ ZZZZZ               ","                    Z                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","             ZZZZ       ZZZ              ","            Z              ZZ            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               ZZZZZZZZZZZ               ","             ZZ           ZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                      Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZ           ZZ             ","               ZZZZZZZZZZZ               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             Z             Z             ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","            Z               Z            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            Z               Z            ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         ZZ                   ZZ         ","         Z                     Z         ","         Z                     Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z                     Z         ","         Z                     Z         ","         ZZ                   ZZ         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZZZZZZZ               ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","               ZZZZZZZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZ ZZZZZ               ","              ZZZ       ZZZ              ","             ZZZ         ZZZ             ","             ZZ           ZZ             ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            Z               Z            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","             ZZ           ZZ             ","             ZZZ         ZZZ             ","              ZZZ       ZZZ              ","               ZZZZZ ZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Z                    ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","               ZZZZ   ZZZZ               ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","              ZZ         ZZ              ","             ZZZ         ZZZ             ","              ZZ         ZZ              ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","               ZZZZ   ZZZZ               ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                    Z                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   ZZZ                   ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                   ZZZ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "}
});
    private static final IStructureDefinition<MTENanoForge> STRUCTURE_DEFINITION = StructureDefinition
        .<MTENanoForge>builder()
                    .addShape(STRUCTURE_PIECE_MAIN, transpose(new String[][] {
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  "," CC   CC "," CC   CC "," CC   CC "," CC   CC ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  "," CC   CC "," CC   CC "," CC   CC "," CC   CC ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","  BB~BB  "," BBBBBBB ","BBBBBBBBB","BBBBBBBBB","BBBBBBBBB","BBBBBBBBB"," BBBBBBB ","  BBBBB  ","         "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER2, transpose(new String[][] {
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "   AA   ", "  ACCA  ", "  ACCA  ", "   AA   ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "   AA   ", "  ACCA  ", "  ACCA  ", "   AA   ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {" CCCCCC ", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", " CCCCCC "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER3, transpose(new String[][] {
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", " FFAA   ", "  ACCA  ", "  ACCA  ", "   AAFF ", "        ", "        "},
                        {"        ", "        ", "F  CC   ", "F CCCC  ", "  CCCC F", "   CC  F", "        ", "        "},
                        {"        ", "        ", "       F", "   CC  F", "F  CC   ", "F       ", "        ", "        "},
                        {"        ", "      F ", "        ", "   CC   ", "   CC   ", "        ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F       ", "F  CC   ", "   CC  F", "       F", "        ", "        "},
                        {"        ", "        ", "   CC  F", "  CCCC F", "F CCCC  ", "F  CC   ", "        ", "        "},
                        {"        ", "      F ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", " F      ", "        "},
                        {"    FF  ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "  FF    "},
                        {"  FF    ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F       ", "F  CC   ", "   CC  F", "       F", "        ", "        "},
                        {"        ", "        ", "       F", "   CC  F", "F  CC   ", "F       ", "        ", "        "},
                        {"        ", "      F ", "        ", "   CC   ", "   CC   ", "        ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F  CC   ", "F CCCC  ", "  CCCC F", "   CC  F", "        ", "        "},
                        {"        ", "        ", "   AA  F", "  ACCA F", "F ACCA  ", "F  AA   ", "        ", "        "},
                        {"        ", "      F ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {" CCCCCC ", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", " CCCCCC "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER4_BASE, STRUCTURE_PIECE_TIER4_STRUCT_BASE)
                    .addShape(STRUCTURE_PIECE_TIER4_RENDER, STRUCTURE_PIECE_TIER4_STRUCT)
                    .addShape(STRUCTURE_PIECE_TIER4_AIR_RENDER, STRUCTURE_PIECE_TIER4_STRUCT_AIR)
                    //spotless:on
        .addElement('F', ofFrame(Materials.StellarAlloy))
        .addElement('C', ofBlock(GregTechAPI.sBlockCasings8, 10))
        .addElement('A', ofBlock(GregTechAPI.sBlockCasings2, 5))
        .addElement(
            'B',
            buildHatchAdder(MTENanoForge.class)
                .atLeast(InputHatch, OutputBus, InputBus, Maintenance, Energy.or(ExoticEnergy))
                .hint(1)
                .casingIndex(((BlockCasings8) GregTechAPI.sBlockCasings8).getTextureIndex(10))
                .buildAndChain(GregTechAPI.sBlockCasings8, 10))
        .addElement('J', ofBlock(GregTechAPI.sBlockCasings13, 5))
        .addElement('K', ofBlock(GregTechAPI.sBlockCasings13, 7))
        .addElement('M', ofFrame(Materials.MagMatter))
        .addElement('N', ofFrame(Materials.BlackDwarfMatter))
        .addElement('O', ofFrame(Materials.WhiteDwarfMatter))
        .addElement('P', ofBlock(GregTechAPI.sBlockCasings13, 8))
        .addElement('Q', ofBlock(GregTechAPI.sBlockCasings13, 9))
        .addElement(
            'V',
            buildHatchAdder(MTENanoForge.class).atLeast(
                ImmutableMap.of(InputHatch, 1, OutputBus, 1, InputBus, 1, Maintenance, 0, Energy.or(ExoticEnergy), 1))
                .hint(1)
                .casingIndex(((BlockCasings13) GregTechAPI.sBlockCasings13).getTextureIndex(6))
                .buildAndChain(onElementPass(MTENanoForge::onCasingAdded, ofBlock(GregTechAPI.sBlockCasings13, 6))))
        .addElement('R', ofBlock(GregTechAPI.sBlockGlass1, 5))
        .addElement('W', ofBlock(GregTechAPI.nanoForgeRender, 0))
        .addElement('X', ofBlock(GregTechAPI.sBlockCasings8, 5))
        .addElement('Y', ofBlock(GregTechAPI.sBlockCasings8, 10))
        .addElement('Z', ofBlock(Blocks.air, 0))
        .build();
    private byte mSpecialTier = 0;
    private boolean renderActive = false;
    private boolean renderDisabled = false;

    public MTENanoForge(int aID, String aName, String aNameRegional) {
        super(aID, aName, aNameRegional);
    }

    public MTENanoForge(String aName) {
        super(aName);
    }

    @Override
    public RecipeMap<?> getRecipeMap() {
        return RecipeMaps.nanoForgeRecipes;
    }

    @Override
    public void construct(ItemStack stackSize, boolean hintsOnly) {
        if (stackSize.stackSize < 4) {
            buildPiece(STRUCTURE_PIECE_MAIN, stackSize, hintsOnly, 4, 37, 1);
            if (stackSize.stackSize > 1) {
                buildPiece(STRUCTURE_PIECE_TIER2, stackSize, hintsOnly, -7, 14, 4);
            }
            if (stackSize.stackSize > 2) {
                buildPiece(STRUCTURE_PIECE_TIER3, stackSize, hintsOnly, 14, 26, 4);
            }
        } else {
            buildPiece(STRUCTURE_PIECE_TIER4_BASE, stackSize, hintsOnly, 20, 33, 0);
            buildPiece(STRUCTURE_PIECE_TIER4_RENDER, stackSize, hintsOnly, 20, 50, 0);
        }
    }

    @Override
    public IMetaTileEntity newMetaEntity(IGregTechTileEntity aTileEntity) {
        return new MTENanoForge(this.mName);
    }

    @Override
    public ITexture[] getTexture(IGregTechTileEntity baseMetaTileEntity, ForgeDirection sideDirection,
        ForgeDirection facingDirection, int colorIndex, boolean active, boolean redstoneLevel) {
        if (sideDirection == facingDirection) {
            if (active) return new ITexture[] {
                BlockIcons.getCasingTextureForId(
                    GTUtility.getCasingTextureIndex(
                        mSpecialTier < 4 ? GregTechAPI.sBlockCasings8 : GregTechAPI.sBlockCasings13,
                        mSpecialTier < 4 ? 10 : 6)),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE)
                    .extFacing()
                    .build(),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE_GLOW)
                    .extFacing()
                    .glow()
                    .build() };
            return new ITexture[] {
                BlockIcons.getCasingTextureForId(
                    GTUtility.getCasingTextureIndex(
                        mSpecialTier < 4 ? GregTechAPI.sBlockCasings8 : GregTechAPI.sBlockCasings13,
                        mSpecialTier < 4 ? 10 : 6)),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE)
                    .extFacing()
                    .build(),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_GLOW)
                    .extFacing()
                    .glow()
                    .build() };
        }
        return new ITexture[] { BlockIcons.getCasingTextureForId(
            GTUtility.getCasingTextureIndex(
                mSpecialTier < 4 ? GregTechAPI.sBlockCasings8 : GregTechAPI.sBlockCasings13,
                mSpecialTier < 4 ? 10 : 6)) };
    }

    @Override
    public IStructureDefinition<MTENanoForge> getStructureDefinition() {
        return STRUCTURE_DEFINITION;
    }

    int drainedMagmatter = 0;

    @Override
    protected ProcessingLogic createProcessingLogic() {
        return new ProcessingLogic() {

            @Override
            protected @Nonnull CheckRecipeResult validateRecipe(@Nonnull GTRecipe recipe) {
                drainedMagmatter = 0;
                if (mSpecialTier >= 4) {
                    boolean foundNanite = false;
                    ItemStack outputNanite = recipe.mOutputs[0];
                    List<MaterialStack> inputNaniteMats = new ArrayList<>();

                    for (ItemStack input : recipe.mInputs) {
                        ItemData data = GTOreDictUnificator.getAssociation(input);
                        if (data == null) {
                            continue;
                        }
                        if (data.mPrefix == OrePrefixes.nanite) {
                            inputNaniteMats.add(data.mMaterial);
                        }
                    }

                    int busWithNaniteIndex = 0;
                    int slotWithNaniteIndex = 0;

                    busScan: for (int i = 0; i < mInputBusses.size(); i++) {
                        MTEHatchInputBus inputBus = mInputBusses.get(i);
                        int invSize = inputBus.getSizeInventory();

                        for (int j = 0; j < invSize; j++) {
                            ItemStack inputItem = inputBus.getStackInSlot(j);

                            if (inputItem != null) {
                                ItemData data = GTOreDictUnificator.getAssociation(inputItem);
                                if (data == null) {
                                    continue;
                                }
                                if (data.mPrefix == OrePrefixes.nanite) {
                                    if (inputItem.isItemEqual(outputNanite)) {
                                        busWithNaniteIndex = i;
                                        slotWithNaniteIndex = j;
                                        foundNanite = true;
                                    } else {
                                        if (!inputNaniteMats
                                            .contains(GTOreDictUnificator.getAssociation(inputItem).mMaterial)) {
                                            foundNanite = false;
                                            break busScan;
                                        }
                                    }
                                }
                            }
                        }
                    }

                    if (renderActive) {
                        TileEntityNanoForgeRenderer tile = getRenderer();
                        ItemData data = GTOreDictUnificator.getAssociation(outputNanite);
                        if (data != null) {
                            Materials mat = data.mMaterial.mMaterial;
                            short[] color = mat.mRGBa;
                            tile.setColor(color[0] / 255.0f, color[1] / 255.0f, color[2] / 255.0f);
                        } else {
                            tile.setColor(1, 1, 1);
                        }
                    }

                    if (foundNanite) {
                        for (MTEHatchInput hatch : filterValidMTEs(mInputHatches)) {
                            FluidStack drained = hatch
                                .drain(ForgeDirection.UNKNOWN, Materials.MagMatter.getMolten(Integer.MAX_VALUE), true);
                            if (drained == null) {
                                continue;
                            }
                            drainedMagmatter = drained.amount;
                            mInputBusses.get(busWithNaniteIndex)
                                .decrStackSize(slotWithNaniteIndex, 1);
                        }
                    }
                }
                maxParallel = Math
                    .max((int) (drainedMagmatter / (288 / GTUtility.powInt(2, 4 - recipe.mSpecialValue))), 1);
                return recipe.mSpecialValue <= mSpecialTier ? CheckRecipeResultRegistry.SUCCESSFUL
                    : CheckRecipeResultRegistry.NO_RECIPE;
            }

            @NotNull
            @Override
            protected ParallelHelper createParallelHelper(@Nonnull GTRecipe recipe) {
                return super.createParallelHelper(recipe);
            }

            @Nonnull
            @Override
            protected OverclockCalculator createOverclockCalculator(@Nonnull GTRecipe recipe) {
                // Perfect OC for recipes for struct tier 1-3 if recipe tier is lower than struct tier
                // If struct is t4, only apply perfect OC if the parallel mechanic is used
                double OCFactor = 2.0;
                if ((mSpecialTier < 4 || recipe.mSpecialValue < 3) && mSpecialTier > recipe.mSpecialValue) {
                    OCFactor = 4.0;
                } else if (recipe.mSpecialValue == 3 && maxParallel > 1) {
                    OCFactor = 4.0;
                }
                return super.createOverclockCalculator(recipe).setDurationDecreasePerOC(OCFactor)
                    .setDurationModifier(mSpecialTier >= 4 ? GTUtility.powInt(0.9999, maxParallel) : 1);
            }
        };
    }

    @Override
    protected void setProcessingLogicPower(ProcessingLogic logic) {
        logic.setAvailableVoltage(getMaxInputEu());
        logic.setAvailableAmperage(1);
        logic.setAmperageOC(false);
        logic.setUnlimitedTierSkips();
    }

    private int timer = 0;

    @Override
    public void onPostTick(IGregTechTileEntity aBaseMetaTileEntity, long aTick) {
        super.onPostTick(aBaseMetaTileEntity, aTick);
        if (aBaseMetaTileEntity.isServerSide()) {
            // TODO: Look for proper fix
            // Updates every 10 sec
            if (mUpdate <= -150) mUpdate = 50;
            if (renderActive && !renderDisabled) {
                TileEntityNanoForgeRenderer tile = getRenderer();
                if (tile != null) {
                    // Manually calculating deltaT for server - annoying minecraft
                    long systemTime = System.currentTimeMillis();
                    long diff = systemTime - tile.getLastSystemTime();
                    tile.setLastSystemTime(systemTime);
                    float deltaT = diff / 1000.0f;
                    // Making sure the first frame doesn't freak out
                    if (deltaT > 1) {
                        deltaT = 0;
                    }
                    timer++;
                    if (mMaxProgresstime > 0) {
                        tile.setRunning(true);
                        tile.setTimer(tile.getTimer() + deltaT);
                        if (timer >= 10) {
                            tile.setTimerServer(tile.getTimer());
                            timer = 0;
                        }
                    } else {
                        tile.setRunning(false);
                        tile.setTimer(tile.getTimer() - deltaT);
                        if (tile.getTimer() < 0) {
                            tile.setTimer(0);
                        }
                        if (timer >= 10) {
                            tile.setTimerServer(tile.getTimer());
                            timer = 0;
                        }
                    }
                }
            }
        }
    }

    private int casingAmount = 0;

    private void onCasingAdded() {
        casingAmount++;
    }

    @Override
    public boolean checkMachine(IGregTechTileEntity aBaseMetaTileEntity, ItemStack aStack) {
        mSpecialTier = 0;

        if (renderDisabled && renderActive) {
            buildRenderStruct();
            renderActive = false;
        }

        if (checkPiece(STRUCTURE_PIECE_MAIN, 4, 37, 1) && aStack != null) {
            if (aStack.isItemEqual(Materials.Carbon.getNanite(1))) {
                mSpecialTier = 1;
            }

            if (aStack.isItemEqual(Materials.Neutronium.getNanite(1)) && checkPiece(STRUCTURE_PIECE_TIER2, -7, 14, 4)) {
                mSpecialTier = 2;
            }

            if (aStack.isItemEqual(Materials.TranscendentMetal.getNanite(1))
                && checkPiece(STRUCTURE_PIECE_TIER2, -7, 14, 4)
                && checkPiece(STRUCTURE_PIECE_TIER3, 14, 26, 4)) {
                mSpecialTier = 3;
            }
        } else if (aStack != null && aStack.isItemEqual(Materials.Eternity.getNanite(1))) {
            casingAmount = 0;
            if (checkPiece(STRUCTURE_PIECE_TIER4_BASE, 20, 33, 0) && casingAmount >= 2784) {
                if (renderActive) {
                    if (checkPiece(STRUCTURE_PIECE_TIER4_AIR_RENDER, 20, 50, 0)) {
                        mSpecialTier = 4;
                    } else {
                        renderActive = false;
                        buildRenderStruct();
                    }
                } else if (checkPiece(STRUCTURE_PIECE_TIER4_RENDER, 20, 50, 0)) {
                    mSpecialTier = 4;
                }
                fixAllIssues();
            }
        }

        if (mMaintenanceHatches.size() != 1 && mSpecialTier != 4) {
            return false;
        }

        if (!checkExoticAndNormalEnergyHatches()) {
            return false;
        }

        if (!renderActive && mSpecialTier >= 4 && !renderDisabled) {
            destroyRenderStruct();
            renderActive = true;
        }

        return mSpecialTier > 0;
    }

    @Override
    public int survivalConstruct(ItemStack stackSize, int elementBudget, ISurvivalBuildEnvironment env) {
        int built = 0;
        if (stackSize.stackSize <= 3) {
            built += survivalBuildPiece(STRUCTURE_PIECE_MAIN, stackSize, 4, 37, 1, elementBudget, env, false, true);
            if (built >= 0) return built;
            if (stackSize.stackSize > 1) {
                built += survivalBuildPiece(
                    STRUCTURE_PIECE_TIER2,
                    stackSize,
                    -7,
                    14,
                    4,
                    elementBudget,
                    env,
                    false,
                    true);
            }
            if (stackSize.stackSize > 2) {
                built += survivalBuildPiece(
                    STRUCTURE_PIECE_TIER3,
                    stackSize,
                    14,
                    26,
                    4,
                    elementBudget,
                    env,
                    false,
                    true);
            }
        } else {
            built += survivalBuildPiece(
                STRUCTURE_PIECE_TIER4_BASE,
                stackSize,
                20,
                33,
                0,
                elementBudget,
                env,
                false,
                true);
            built += survivalBuildPiece(
                STRUCTURE_PIECE_TIER4_RENDER,
                stackSize,
                20,
                50,
                0,
                elementBudget,
                env,
                false,
                true);
        }
        return built;
    }

    @Override
    public void onPreviewConstruct(@NotNull ItemStack trigger) {
        mSpecialTier = (byte) trigger.stackSize;
        if (mSpecialTier == 4) {
            buildPiece(STRUCTURE_PIECE_TIER4_BASE, trigger, false, 20, 33, 0);
            buildPiece(STRUCTURE_PIECE_TIER4_RENDER, trigger, false, 20, 50, 0);
        }
    }

    @Override
    public void saveNBTData(NBTTagCompound aNBT) {
        super.saveNBTData(aNBT);
        aNBT.setByte("mSpecialTier", mSpecialTier);
        aNBT.setBoolean("renderActive", renderActive);
        aNBT.setBoolean("renderDisabled", renderDisabled);
    }

    @Override
    public void loadNBTData(final NBTTagCompound aNBT) {
        super.loadNBTData(aNBT);
        if (aNBT.hasKey("mSeparate")) {
            // backward compatibility
            inputSeparation = aNBT.getBoolean("mSeparate");
        }
        mSpecialTier = aNBT.getByte("mSpecialTier");
        renderActive = aNBT.getBoolean("renderActive");
        renderDisabled = aNBT.getBoolean("renderDisabled");
    }

    @Override
    protected MultiblockTooltipBuilder createTooltip() {
        MultiblockTooltipBuilder tt = new MultiblockTooltipBuilder();
        tt.addMachineType("Nanite Fabricator")
            .addInfo("Requires insane amounts of power to create nanites")
            .addInfo("Each tier requires some structural changes")
            .addInfo("Machine tier depends on Nanite in controller slot")
            .addInfo("Tier 4 has additional mechanics, check the controller")
            .addSeparator()
            .addInfo("Requires a Carbon Nanite to use tier " + EnumChatFormatting.DARK_PURPLE + 1)
            .addInfo("Requires a Neutronium Nanite to use tier " + EnumChatFormatting.DARK_BLUE + 2)
            .addInfo("Requires a Transcendent Metal Nanite to use tier " + EnumChatFormatting.DARK_AQUA + 3)
            .addInfo("Requires an Eternity Nanite to use tier " + EnumChatFormatting.DARK_GREEN + 4)
            .addSeparator()
            .addInfo(
                "Performs " + EnumChatFormatting.LIGHT_PURPLE
                    + "perfect overclocks"
                    + EnumChatFormatting.GRAY
                    + " on lower-tier recipes")
            .addTecTechHatchInfo()
            .addUnlimitedTierSkips()
            .beginStructureBlock(30, 38, 13, false)
            .addStructureInfo("Total blocks needed for the structure at tier " + getTieredText("1", "2", "3"))
            .addStructureInfo(getTieredText("522", "670", "898") + "Radiant Naquadah Alloy Casing")
            .addStructureInfo(getTieredText("170", "170", "254") + "Stellar Alloy Frame Box")
            .addStructureInfo(getTieredText("0", "16", "32") + "Assembly Line Casing")
            .addStructureInfoSeparator()
            .addStructureInfo(
                "Tier " + EnumChatFormatting.DARK_GREEN
                    + "4 "
                    + EnumChatFormatting.GRAY
                    + "requires a whole new set of blocks")
            .addStructureInfo("Check the NEI preview for specifics")
            .addStructureInfo("Maintenance hatch is not required for tier " + EnumChatFormatting.DARK_GREEN + "4")
            .addStructureInfoSeparator()
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + "1"
                    + EnumChatFormatting.GRAY
                    + "-"
                    + EnumChatFormatting.GOLD
                    + "2"
                    + EnumChatFormatting.GRAY
                    + " energy hatches or "
                    + EnumChatFormatting.GOLD
                    + "1"
                    + EnumChatFormatting.GRAY
                    + " TT energy hatch")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD + "1" + EnumChatFormatting.GRAY + " maintenance hatch")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " input hatches")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 0
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " output hatches")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " input buses")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " output buses")
            .toolTipFinisher(AuthorBlueWeabo);
        return tt;
    }

    private static String getTieredText(String tierOne, String tierTwo, String tierThree) {
        return EnumChatFormatting.DARK_PURPLE + tierOne
            + EnumChatFormatting.GRAY
            + "/"
            + EnumChatFormatting.DARK_BLUE
            + tierTwo
            + EnumChatFormatting.GRAY
            + "/"
            + EnumChatFormatting.DARK_AQUA
            + tierThree
            + EnumChatFormatting.GRAY
            + " ";
    }

    @Override
    protected @NotNull MTEMultiBlockBaseGui<?> getGui() {
        return new MTENanoForgeGui(this);
    }

    @Override
    public final void onScrewdriverRightClick(ForgeDirection side, EntityPlayer aPlayer, float aX, float aY, float aZ,
        ItemStack aTool) {
        renderDisabled = !renderDisabled;
        GTUtility.sendChatTrans(aPlayer, "GT5U.machines.animations." + (renderDisabled ? "disabled" : "enabled"));
    }

    @Override
    public boolean onWireCutterRightClick(ForgeDirection side, ForgeDirection wrenchingSide, EntityPlayer aPlayer,
        float aX, float aY, float aZ, ItemStack aTool) {
        if (aPlayer.isSneaking()) {
            batchMode = !batchMode;
            if (batchMode) {
                GTUtility.sendChatTrans(aPlayer, "misc.BatchModeTextOn");
            } else {
                GTUtility.sendChatTrans(aPlayer, "misc.BatchModeTextOff");
            }
            return true;
        }
        return false;
    }

    @Override
    public void onBlockDestroyed() {
        super.onBlockDestroyed();
        if (renderActive) {
            buildRenderStruct();
        }
    }

    @Override
    public boolean supportsVoidProtection() {
        return true;
    }

    @Override
    public boolean supportsInputSeparation() {
        return true;
    }

    @Override
    public boolean supportsBatchMode() {
        return true;
    }

    private TileEntityNanoForgeRenderer getRenderer() {
        ChunkCoordinates renderPos = getRenderPos();
        TileEntity tile = this.getBaseMetaTileEntity()
            .getWorld()
            .getTileEntity(renderPos.posX, renderPos.posY, renderPos.posZ);

        if (tile instanceof TileEntityNanoForgeRenderer nanoForgeTile) {
            return nanoForgeTile;
        }
        return null;
    }

    private ChunkCoordinates getRenderPos() {
        IGregTechTileEntity gregTechTileEntity = this.getBaseMetaTileEntity();
        int x = gregTechTileEntity.getXCoord();
        int y = gregTechTileEntity.getYCoord();
        int z = gregTechTileEntity.getZCoord();
        double xOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetX
            + 33 * getExtendedFacing().getRelativeUpInWorld().offsetX;
        double yOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetY
            + 33 * getExtendedFacing().getRelativeUpInWorld().offsetY;
        double zOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetZ
            + 33 * getExtendedFacing().getRelativeUpInWorld().offsetZ;
        return new ChunkCoordinates((int) (x + xOffset), (int) (y + yOffset), (int) (z + zOffset));
    }

    private void destroyRenderStruct() {
        buildPiece(STRUCTURE_PIECE_TIER4_AIR_RENDER, null, false, 20, 50, 0);
    }

    private void buildRenderStruct() {
        buildPiece(STRUCTURE_PIECE_TIER4_RENDER, null, false, 20, 50, 0);
    }
}
